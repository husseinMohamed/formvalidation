"use strict";var thisObj,inputAttr,validation,strThree,input=document.querySelectorAll('.form-input:not([style*="display:none"]):not([style*="display: none"])'),validate_input=document.querySelectorAll(".validate-input"),submitBtn=document.querySelector(".submitBtn"),submitBtn_wrapper=document.querySelector(".submit-btn-wrapper"),submitBtn_overlay=document.querySelector(".submitbuttonOverlay"),input_wrapper=document.querySelectorAll('.input-wrapper:not([style*="display:none"]):not([style*="display: none"])'),radios=document.querySelectorAll(".radio-input"),checkboxes=document.querySelectorAll(".checkbox-check");$(".inputMask :input").inputmask(),input.forEach(function(e){return e.addEventListener("blur",inputOnBlur)}),radios.forEach(function(e){return e.addEventListener("click",checkRadioVal)}),checkboxes.forEach(function(e){return e.addEventListener("click",checkIfCheckboxesChecked)}),submitBtn_wrapper.addEventListener("click",function(e){e.preventDefault(),checkInputsOnSubmit(),checkIfInputsAllFilled()}),document.querySelector("#zip").addEventListener("keyup",function(){zipCode(thisObj=this)});for(var i=0;i<validate_input.length;i++)validate_input[i].addEventListener("click",function(t){return function(){for(var e=0;e<t;e++){addRedBorderOnSubmit(input_wrapper[e])}}}(i));function checkIfInputsAllFilled(){for(var e=document.querySelectorAll('.unvalid:not([style*="display:none"]):not([style*="display: none"])'),t=($(".unvalid:visible"),0);t<e.length;t++);console.log(t),0===t?(submitBtn.style.backgroundColor="#5bc2e7",submitBtn_overlay.style.display="none"):(submitBtn_overlay.style.display="block",submitBtn.style.backgroundColor="#999")}function addErrorStates(e){e.classList.add("errorState")}function removeErrorStates(e){e.classList.remove("errorState")}function inputOnBlur(){checkIfInputempty(inputAttr=(thisObj=this).getAttribute("data-validate")),checkIfInputsAllFilled()}function checkInputsOnSubmit(){for(var e=document.querySelectorAll('.input-wrapper:not([style*="display:none"]):not([style*="display: none"])'),t=0;t<e.length;t++)addRedBorderOnSubmit(e[t])}function addRedBorderOnSubmit(e){e.classList.contains("valid")?removeErrorStates(e):addErrorStates(e)}function getLengthOfMaskedInputs(e,t){var n=e.value.replace(/-/g,"").replace(/"/g,"").replace(/'/g,"").replace(/\(|\)/g,"");strThree=n.replace(" ",""),validation={isNumber:function(e){return t.test(e)}}}function phoneNumber(e){return getLengthOfMaskedInputs(e,pattern=/^\d+$/),!!function(e){return pattern.test(e)}(strThree)}var contstraints,pattern,self,val,len,value,zipBool=!0;function zipCode(e){if(getLengthOfMaskedInputs(e,pattern=/^(?:\d{5})?$/),4<strThree.length&&$.ajax({url:"https://api.zippopotam.us/us/"+e.value,cache:!1,dataType:"json",type:"GET",success:function(){zipBool=!0},error:function(){zipBool=!1,$.ajax({url:"https://api.zippopotam.us/pr/"+e.value,cache:!1,dataType:"json",type:"GET",success:function(){zipBool=!0},error:function(){zipBool=!1}})}}),5===strThree.length&&1==zipBool)return!0}function dobCheck(e){getLengthOfMaskedInputs(e,pattern=/^\d{2}\/\d{2}\/\d{4}$/);e.value.length;var t,n,i,r,l,o=e.value;o.trim();return!!(18<=(t=o,n=new Date,i=new Date(t),r=n.getFullYear()-i.getFullYear(),((l=n.getMonth()-i.getMonth())<0||0==l&&n.getDate()<i.getDate())&&r--,r)&&validation.isNumber(strThree))}function removeErrorClasses(e){e.classList.remove("emptyForm"),e.closest(".input-wrapper").classList.remove("unvalid"),e.closest(".input-wrapper").classList.add("valid"),removeErrorStates(e.closest(".input-wrapper"))}function addErrorClasses(e){e.classList.add("emptyForm"),e.closest(".input-wrapper").classList.remove("valid"),e.closest(".input-wrapper").classList.add("unvalid"),addErrorStates(e.closest(".input-wrapper"))}function checkContstraints(e){val=(self=e).value,len=e.value.length;var t=document.querySelector("#zip");contstraints={name:{conditional:1<e.value.length},email:{conditional:val.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)},phone:{conditional:phoneNumber(e)},zip:{conditional:zipCode(t)},dob:{conditional:dobCheck(e)},optional:{conditional:!0}}}function checkIfInputempty(e){checkContstraints(thisObj),contstraints[e].conditional?removeErrorClasses(thisObj):addErrorClasses(thisObj)}function checkRadioVal(){for(var e=(thisObj=this).getAttribute("data-validate-type"),t=0;t<radios.length;t++)"radio"===e&&"radio"===radios[t].type&&radios[t].checked&&(value=radios[t].value,removeErrorClasses(thisObj));checkIfInputsAllFilled()}function checkIfCheckboxesChecked(){"checkbox"===(thisObj=this).getAttribute("data-validate-type")&&(thisObj.checked?removeErrorClasses(thisObj):addErrorClasses(thisObj)),checkIfInputsAllFilled()}submitBtn.addEventListener("click",function(e){e.preventDefault(),console.log("form sent")});var progressive_reveal=document.querySelectorAll(".progessive-reveal"),hiddenForm=document.querySelectorAll(".hiddenField");function progressiveReveal(){for(var e=(thisObj=this).getAttribute("data-reveal"),t=0;t<hiddenForm.length;t++){var n=hiddenForm[t];hiddenForm[t];if(e==hiddenForm[t].getAttribute("data-hidden")){var i=thisObj.getAttribute("type");if("checkbox"===i&&(thisObj.checked?addDisplayStyleToHiddenFields(n.style.display="block",n):addDisplayStyleToHiddenFields(n.style.display="none",n)),"radio"===i)for(t=0;t<radios.length;t++)radios[t].checked&&radios[t].classList.contains("trigger-reveal")?addDisplayStyleToHiddenFields(n.style.display="block",n):addDisplayStyleToHiddenFields(n.style.display="none",n)}}hideAllchildren(),checkIfInputsAllFilled()}progressive_reveal.forEach(function(e){return e.addEventListener("click",progressiveReveal)});var hiddenForm1=document.querySelectorAll(".hiddenField");function addDisplayStyleToHiddenFields(e,t){for(var n=t.children,i=0;i<n.length;i++){n[i].style.display=e}}for(i=0;i<hiddenForm.length;i++){var hidden_element=hiddenForm[i];addDisplayStyleToHiddenFields("none",hidden_element)}function hideAllchildren(){for(var e=document.querySelectorAll(".nestedHiddenField"),t=0;t<e.length;t++){var n=e[t],i=e[t].children;for(t=0;t<i.length;t++)"none"==n.closest(".hiddenFieldParent").style.display?i[t].style.display="none":"none"==n.style.display?i[t].style.display="none":i[t].style.display="block"}}