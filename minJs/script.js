"use strict";var thisObj,inputAttr,validation,strThree,input=document.querySelectorAll('.form-input:not([style*="display:none"]):not([style*="display: none"])'),validate_input=document.querySelectorAll('.validate-input:not([style*="display:none"]):not([style*="display: none"])'),submitBtn=document.querySelector(".submitBtn"),submitBtn_wrapper=document.querySelector(".submit-btn-wrapper"),submitBtn_overlay=document.querySelector(".submitbuttonOverlay"),input_wrapper=document.querySelectorAll('.input-wrapper:not([style*="display:none"]):not([style*="display: none"])'),radios=document.querySelectorAll(".radio-input"),checkboxes=document.querySelectorAll(".checkbox-check");$(".inputMask :input").inputmask(),input.forEach(function(e){return e.addEventListener("blur",inputOnBlur)}),radios.forEach(function(e){return e.addEventListener("click",checkRadioVal)}),checkboxes.forEach(function(e){return e.addEventListener("click",checkIfCheckboxesChecked)}),submitBtn_wrapper.addEventListener("click",function(e){e.preventDefault(),checkInputsOnSubmit(),checkIfInputsAllFilled()}),document.querySelector("#zip").addEventListener("keyup",function(){zipCode(thisObj=this)});for(var i=0;i<validate_input.length;i++)validate_input[i].addEventListener("click",function(t){return function(){for(var e=0;e<t;e++){addRedBorderOnSubmit(document.querySelectorAll('.input-wrapper:not([style*="display:none"]):not([style*="display: none"])')[e])}}}(i));function checkIfInputsAllFilled(){for(var e=document.querySelectorAll('.unvalid:not([style*="display:none"]):not([style*="display: none"])'),t=0;t<e.length;t++);0===t?(submitBtn.style.backgroundColor="#5bc2e7",submitBtn_overlay.style.display="none"):(submitBtn_overlay.style.display="block",submitBtn.style.backgroundColor="#999")}function addErrorStates(e){e.classList.add("errorState")}function removeErrorStates(e){e.classList.remove("errorState")}function inputOnBlur(){checkIfInputempty(inputAttr=(thisObj=this).getAttribute("data-validate")),checkIfInputsAllFilled()}function checkInputsOnSubmit(){for(var e=document.querySelectorAll('.input-wrapper:not([style*="display:none"]):not([style*="display: none"])'),t=0;t<e.length;t++)addRedBorderOnSubmit(e[t])}function addRedBorderOnSubmit(e){e.classList.contains("valid")?removeErrorStates(e):addErrorStates(e)}function getLengthOfMaskedInputs(e,t){var n=e.value.replace(/-/g,"").replace(/"/g,"").replace(/'/g,"").replace(/\(|\)/g,"");strThree=n.replace(" ",""),validation={isNumber:function(e){return t.test(e)}}}function phoneNumber(e){return getLengthOfMaskedInputs(e,pattern=/^\d+$/),!!function(e){return pattern.test(e)}(strThree)}var contstraints,pattern,self,val,len,value,zipBool=!0;function zipCode(e){if(getLengthOfMaskedInputs(e,pattern=/^(?:\d{5})?$/),4<strThree.length&&$.ajax({url:"https://api.zippopotam.us/us/"+e.value,cache:!1,dataType:"json",type:"GET",success:function(){zipBool=!0},error:function(){zipBool=!1,$.ajax({url:"https://api.zippopotam.us/pr/"+e.value,cache:!1,dataType:"json",type:"GET",success:function(){zipBool=!0},error:function(){zipBool=!1}})}}),5===strThree.length&&1==zipBool)return!0}function dobCheck(e){getLengthOfMaskedInputs(e,pattern=/^\d{2}\/\d{2}\/\d{4}$/);e.value.length;var t,n,i,r,o,l=e.value;l.trim();return!!(18<=(t=l,n=new Date,i=new Date(t),r=n.getFullYear()-i.getFullYear(),((o=n.getMonth()-i.getMonth())<0||0==o&&n.getDate()<i.getDate())&&r--,r)&&validation.isNumber(strThree))}function removeErrorClasses(e){e.classList.remove("emptyForm"),e.closest(".input-wrapper").classList.remove("unvalid"),e.closest(".input-wrapper").classList.add("valid"),removeErrorStates(e.closest(".input-wrapper"))}function addErrorClasses(e){e.classList.add("emptyForm"),e.closest(".input-wrapper").classList.remove("valid"),e.closest(".input-wrapper").classList.add("unvalid"),addErrorStates(e.closest(".input-wrapper"))}function checkContstraints(e){val=(self=e).value,len=e.value.length;var t=document.querySelector("#zip");contstraints={name:{conditional:1<e.value.length},email:{conditional:val.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)},phone:{conditional:phoneNumber(e)},zip:{conditional:zipCode(t)},dob:{conditional:dobCheck(e)},optional:{conditional:!0}}}function checkIfInputempty(e){checkContstraints(thisObj),contstraints[e].conditional?removeErrorClasses(thisObj):addErrorClasses(thisObj)}function checkRadioVal(){thisObj=this;for(var e=0;e<radios.length;e++)"radio"===radios[e].type&&radios[e].checked&&(value=radios[e].value,removeErrorClasses(thisObj));checkIfInputsAllFilled()}function checkIfCheckboxesChecked(){"checkbox"===(thisObj=this).getAttribute("data-validate-type")&&(thisObj.checked?removeErrorClasses(thisObj):addErrorClasses(thisObj)),checkIfInputsAllFilled()}submitBtn.addEventListener("click",function(){console.log("form sent")});var hiddenField=document.querySelector(".hiddenField"),hiddenField_children=document.querySelector(".hiddenField").childNodes;function addDisplayStyleToHiddenFields(e){hiddenField.style.display=e;for(var t=0;t<hiddenField_children.length;t++)"div"==hiddenField_children[t].nodeName.toLowerCase()&&(hiddenField_children[t].style.display=e)}addDisplayStyleToHiddenFields("none"),document.querySelector(".checkbox-progessive-reveal").addEventListener("click",function(){(thisObj=this).checked?addDisplayStyleToHiddenFields("block"):addDisplayStyleToHiddenFields("none"),checkIfInputsAllFilled()});